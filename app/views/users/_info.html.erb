<table class="table table-light">
  <tr>
    <%= attachment_image_tag(user, :profile_image, size: '100x100', fallback: "no_image.jpg", class:"rounded-circle img-thumbnail") %>
  </tr>
  <tr>
    <th><i class="fas fa-user-circle"></i>名前</th>
    <th><%= user.name %></th>
  </tr>
  <tr>
    <th><i class="far fa-comment-dots"></i>自己紹介</th>
    <th><%= user.introduction %></th>
  </tr>
    <th><%= link_to "フォロー#{user.followings.count}", user_followings_path(user.id), class: "text-dark" %></th>
    <th><%= link_to "フォロワー#{user.followers.count}", user_followers_path(user.id), class: "text-dark" %></th>
  </tr>
  <% if @user == current_user %>
  <tr>
    <th>
      <i class="fas fa-heart"></i><%= link_to "いいね", user_favorites_path(user.id), class: "text-dark" %>
    </th>
  </tr>
  <% end %>
</table>

<div class="row mt-5">
  <h5><i class="fas fa-search pr-1"></i><strong>検索フォーム</strong></h5>
  <%= form_with url:search_path, method: :get, local: true do |f| %>
    <%= f.select 'search[model]', options_for_select({ "ユーザ" => "user", "楽曲" => "music" }) %>
    <%= f.select 'search[how]', options_for_select({ "完全一致" => "match", "部分一致" => "partical"  }) %>
    <%= f.text_field 'search[value]', class: "mt-3 mb-3" %>
    <%= f.submit :"検索", class: "btn btn-outline-dark" %>
  <% end %>
</div>

<div class="row mt-3">
  <% unless user == current_user %>
    <% if current_user.following?(user) %>
      <td><%= link_to "フォロー中", user_relationships_path(user.id), method: :delete, class: "btn btn-outline-dark btn-block" %></td>
    <% else %>
      <td><%= link_to "＋フォローする", user_relationships_path(user.id), method: :post, class: "btn btn-dark btn-block" %></td>
    <% end %>
  <% end %>
</div>